import{B as ne,A as se,E as ie,F as V,K as re,D as le,S as de,G as ce,T as ue,H as pe,I as me,J as fe,V as be,L as he,M as ge,N as _e,O as ve,P as ye,Q as Ce,z as we,U as Se,k as ke,W as xe,c as x,a,X as Te,Y as Pe,Z as Ee,$ as Ne,a0 as Me,i as Re,f as v,e as y,a1 as Le,a2 as $e,a3 as Be,a4 as Ve,a5 as Ae,a6 as je,a7 as De,a8 as Fe,a9 as Oe,aa as He,ab as Ue,ac as ze,ad as Ie,ae as qe,af as Xe,l as Ke,ag as We,ah as Ge,ai as Je,aj as Qe,ak as Ye,al as Ze,am as et,an as tt,ao as at,ap as ot,aq as nt,ar as st,as as it,at as rt,au as lt,av as dt,x as ct,aw as ut,ax as pt,ay as mt,az as ft,aA as bt,u as ht,y as gt,aB as _t,aC as vt,s as yt,aD as Ct,aE as wt,aF as St,aG as kt,aH as xt,p as Tt,o as T,aI as Pt,v as Et,aJ as Nt,aK as Mt,aL as Rt,aM as Lt,aN as $t,n as Bt,aO as Vt,aP as At,j as A,aQ as jt,r as C,aR as Dt,aS as Ft,aT as Ot,aU as Ht,aV as Ut,aW as zt,aX as It,aY as qt,aZ as Xt,a_ as Kt,a$ as Wt,b0 as Gt,b1 as Jt,t as h,b2 as Qt,b3 as Yt,b4 as Zt,b5 as ea,b6 as ta,b7 as aa,b8 as oa,b9 as na,ba as sa,bb as ia,bc as ra,bd as la,be as da,bf as ca,bg as ua,bh as pa,bi as ma,bj as fa,bk as ba,bl as ha,bm as ga,bn as _a,q as va,bo as ya,bp as Ca,bq as wa,br as Sa,w as R,bs as ka,bt as xa,bu as Ta,bv as Pa,bw as Ea,bx as Na,_ as Ma,d as Ra,b as La}from"./index-37a6019e.js";import{a as $a,c as Ba,g as Va}from"./_commonjsHelpers-042e6b4d.js";import{P as Aa}from"./PaginationComponent-ede26183.js";import{c as ja}from"./cart-e8736bef.js";import{S as Da}from"./ShowCartToast-77de8254.js";import"./logo-77d6255c.js";const Fa=()=>{},Oa=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ne,Comment:se,EffectScope:ie,Fragment:V,KeepAlive:re,ReactiveEffect:le,Static:de,Suspense:ce,Teleport:ue,Text:pe,Transition:me,TransitionGroup:fe,VueElement:be,callWithAsyncErrorHandling:he,callWithErrorHandling:ge,camelize:_e,capitalize:ve,cloneVNode:ye,compatUtils:Ce,compile:Fa,computed:we,createApp:Se,createBlock:ke,createCommentVNode:xe,createElementBlock:x,createElementVNode:a,createHydrationRenderer:Te,createPropsRestProxy:Pe,createRenderer:Ee,createSSRApp:Ne,createSlots:Me,createStaticVNode:Re,createTextVNode:v,createVNode:y,customRef:Le,defineAsyncComponent:$e,defineComponent:Be,defineCustomElement:Ve,defineEmits:Ae,defineExpose:je,defineProps:De,defineSSRCustomElement:Fe,get devtools(){return Oe},effect:He,effectScope:Ue,getCurrentInstance:ze,getCurrentScope:Ie,getTransitionRawChildren:qe,guardReactiveProps:Xe,h:Ke,handleError:We,hydrate:Ge,initCustomFormatter:Je,initDirectivesForSSR:Qe,inject:Ye,isMemoSame:Ze,isProxy:et,isReactive:tt,isReadonly:at,isRef:ot,isRuntimeOnly:nt,isShallow:st,isVNode:it,markRaw:rt,mergeDefaults:lt,mergeProps:dt,nextTick:ct,normalizeClass:ut,normalizeProps:pt,normalizeStyle:mt,onActivated:ft,onBeforeMount:bt,onBeforeUnmount:ht,onBeforeUpdate:gt,onDeactivated:_t,onErrorCaptured:vt,onMounted:yt,onRenderTracked:Ct,onRenderTriggered:wt,onScopeDispose:St,onServerPrefetch:kt,onUnmounted:xt,onUpdated:Tt,openBlock:T,popScopeId:Pt,provide:Et,proxyRefs:Nt,pushScopeId:Mt,queuePostFlushCb:Rt,reactive:Lt,readonly:$t,ref:Bt,registerRuntimeCompiler:Vt,render:At,renderList:A,renderSlot:jt,resolveComponent:C,resolveDirective:Dt,resolveDynamicComponent:Ft,resolveFilter:Ot,resolveTransitionHooks:Ht,setBlockTracking:Ut,setDevtoolsHook:zt,setTransitionHooks:It,shallowReactive:qt,shallowReadonly:Xt,shallowRef:Kt,ssrContextKey:Wt,ssrUtils:Gt,stop:Jt,toDisplayString:h,toHandlerKey:Qt,toHandlers:Yt,toRaw:Zt,toRef:ea,toRefs:ta,transformVNodeArgs:aa,triggerRef:oa,unref:na,useAttrs:sa,useCssModule:ia,useCssVars:ra,useSSRContext:la,useSlots:da,useTransitionState:ca,vModelCheckbox:ua,vModelDynamic:pa,vModelRadio:ma,vModelSelect:fa,vModelText:ba,vShow:ha,version:ga,warn:_a,watch:va,watchEffect:ya,watchPostEffect:Ca,watchSyncEffect:wa,withAsyncContext:Sa,withCtx:R,withDefaults:ka,withDirectives:xa,withKeys:Ta,withMemo:Pa,withModifiers:Ea,withScopeId:Na},Symbol.toStringTag,{value:"Module"}));var L={},Ha={get exports(){return L},set exports(r){L=r}};const Ua=$a(Oa);(function(r,o){(function(P,p){r.exports=p(Ua)})(Ba,i=>(()=>{var P={657:(t,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.default=(c,n)=>{const _=c.__vccOpts||c;for(const[E,N]of n)_[E]=N;return _}},976:t=>{t.exports=i}},p={};function s(t){var d=p[t];if(d!==void 0)return d.exports;var c=p[t]={exports:{}};return P[t](c,c.exports,s),c.exports}s.d=(t,d)=>{for(var c in d)s.o(d,c)&&!s.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:d[c]})},s.o=(t,d)=>Object.prototype.hasOwnProperty.call(t,d),s.r=t=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var g={};return(()=>{s.r(g),s.d(g,{Component:()=>M,LoadingPlugin:()=>te,default:()=>ae,useLoading:()=>$});var t=s(976);function d(e){var l;typeof e.remove<"u"?e.remove():(l=e.parentNode)==null||l.removeChild(e)}function c(e,l,f){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const b=(0,t.h)(e,l,m),u=document.createElement("div");return u.classList.add("vld-container"),f.appendChild(u),(0,t.render)(b,u),b.component}function n(){return typeof window<"u"}const _=n()?window.HTMLElement:Object,E=["aria-busy"],N={class:"vl-icon"};function j(e,l,f,m,b,u){return(0,t.openBlock)(),(0,t.createBlock)(t.Transition,{name:e.transition},{default:(0,t.withCtx)(()=>[(0,t.withDirectives)((0,t.createElementVNode)("div",{tabindex:"0",class:(0,t.normalizeClass)(["vl-overlay vl-active",{"vl-full-page":e.isFullPage}]),"aria-busy":e.isActive,"aria-label":"Loading",style:(0,t.normalizeStyle)({zIndex:e.zIndex})},[(0,t.createElementVNode)("div",{class:"vl-background",onClick:l[0]||(l[0]=(0,t.withModifiers)(function(){return e.cancel&&e.cancel(...arguments)},["prevent"])),style:(0,t.normalizeStyle)(e.bgStyle)},null,4),(0,t.createElementVNode)("div",N,[(0,t.renderSlot)(e.$slots,"before"),(0,t.renderSlot)(e.$slots,"default",{},()=>[((0,t.openBlock)(),(0,t.createBlock)((0,t.resolveDynamicComponent)(e.loader),{color:e.color,width:e.width,height:e.height},null,8,["color","width","height"]))]),(0,t.renderSlot)(e.$slots,"after")])],14,E),[[t.vShow,e.isActive]])]),_:3},8,["name"])}const D={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(e){if(!this.isActive||e.target===this.$el||this.$el.contains(e.target))return;let l=this.container?this.container:this.isFullPage?null:this.$el.parentElement;(this.isFullPage||l&&l.contains(e.target))&&(e.preventDefault(),this.$el.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},F=["width","height","stroke"],O=[(0,t.createStaticVNode)('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".25" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.8s" repeatCount="indefinite"></animateTransform></path></g></g>',1)];function H(e,l,f,m,b,u){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:e.width,height:e.height,stroke:e.color},O,8,F)}const U=(0,t.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});var w=s(657);const z=(0,w.default)(U,[["render",H]]),I=["fill","width","height"],q=[(0,t.createStaticVNode)('<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',3)];function X(e,l,f,m,b,u){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:e.color,width:e.width,height:e.height},q,8,I)}const K=(0,t.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}}),W=(0,w.default)(K,[["render",X]]),G=["height","width","fill"],J=[(0,t.createStaticVNode)('<rect x="0" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="10" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.15s" dur="0.6s" repeatCount="indefinite"></animate></rect><rect x="20" y="13" width="4" height="5"><animate attributeName="height" attributeType="XML" values="5;21;5" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate><animate attributeName="y" attributeType="XML" values="13; 5; 13" begin="0.3s" dur="0.6s" repeatCount="indefinite"></animate></rect>',3)];function Q(e,l,f,m,b,u){return(0,t.openBlock)(),(0,t.createElementBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:e.height,width:e.width,fill:e.color},J,8,G)}const Y=(0,t.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}}),Z={Spinner:z,Dots:W,Bars:(0,w.default)(Y,[["render",Q]])},ee=(0,t.defineComponent)({name:"VueLoading",mixins:[D],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,_],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:Boolean,transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},components:Z,emits:["hide","update:active"],data(){return{isActive:this.active}},mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){!this.canCancel||!this.isActive||(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const e=this.$el.parentElement;(0,t.render)(null,e),d(e)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vl-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vl-shown")},keyPress(e){e.keyCode===27&&this.cancel()}},watch:{active(e){this.isActive=e},isActive(e){e?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}}),M=(0,w.default)(ee,[["render",j]]);function $(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{show(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e,m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;const u={...e,...f,...{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0}};let B=u.container;u.container||(B=document.body,u.isFullPage=!0);const oe={...l,...m};return{hide:c(M,u,B,oe).ctx.hide}}}}const te=function(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const m=$(l,f);e.config.globalProperties.$loading=m,e.provide("$loading",m)},ae=M})(),g})())})(Ha);const za=Va(L);const{VITE_URL:S,VITE_PATH:k}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"cal-for-you",BASE_URL:"/cal-for-you/",MODE:"production",DEV:!1,PROD:!0},Ia={data(){return{products:[],page:{},loading:{isLoading:!1,fullPage:!1,backgroundColor:"rgb(230, 243, 250)"}}},methods:{getProducts(r=1){this.$http(`${S}v2/api/${k}/products?page=${r}`).then(o=>{this.products=o.data.products,this.page=o.data.pagination,this.loading.isLoading=!1})},filterCategory(r){this.$http(`${S}v2/api/${k}/products/all`).then(o=>{this.products=o.data.products.filter(i=>i.category===r)})},filterCal(r){this.$http(`${S}v2/api/${k}/products/all`).then(o=>{r==="0 ~ 300"?this.products=o.data.products.filter(i=>i.calorie>=0&&i.calorie<=300):r==="301 ~ 600"?this.products=o.data.products.filter(i=>i.calorie>=301&&i.calorie<=600):r==="601"&&(this.products=o.data.products.filter(i=>i.calorie>=601))})},filterProtein(r){this.$http(`${S}v2/api/${k}/products/all`).then(o=>{r==="0 ~ 10"?this.products=o.data.products.filter(i=>i.protein>=0&&i.protein<=10):r==="10.1 ~ 20"?this.products=o.data.products.filter(i=>i.protein>=10.1&&i.protein<=20):r==="20.1"&&(this.products=o.data.products.filter(i=>i.protein>=20.1))})},showToast(){this.$refs.showCartToast.showCartToast()},...Ra(ja,["addToCart"])},components:{RouterLink:La,PaginationComponent:Aa,Loading:za,ShowCartToast:Da},mounted(){this.loading.isLoading=!0,this.getProducts()}},qa=a("div",{class:"loadingio-spinner-ripple-6lay1q6s1f"},[a("div",{class:"ldio-170y7nacyvl"},[a("div"),a("div")])],-1),Xa={class:"container pt-6"},Ka=a("h2",{class:"fw-bold pb-4 text-center"},"商品列表",-1),Wa={class:"row d-flex flex-md-row flex-column"},Ga={class:"col-md-3"},Ja={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},Qa={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},Ya=a("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1 disabled"},"熱量 (Cal)",-1),Za=a("i",{class:"bi bi-arrow-up"},null,-1),eo={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},to=a("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1",disabled:""},"蛋白質 (g)",-1),ao=a("i",{class:"bi bi-arrow-up"},null,-1),oo={class:"col-md-9"},no={class:"row g-4"},so={class:"card"},io=["src"],ro={class:"card-body text-center"},lo={class:"card-title fw-bold"},co={class:"card-text"},uo={class:"text-decoration-line-through"},po=a("br",null,null,-1),mo=["onClick"],fo=a("i",{class:"bi bi-cart-fill"},null,-1),bo={class:"container d-flex justify-content-center pt-5"};function ho(r,o,i,P,p,s){const g=C("loading"),t=C("RouterLink"),d=C("ShowCartToast"),c=C("PaginationComponent");return T(),x("div",null,[y(g,{active:p.loading.isLoading,"is-full-page":p.loading.fullPage,"background-color":p.loading.backgroundColor},{default:R(()=>[qa]),_:1},8,["active","is-full-page","background-color"]),a("section",Xa,[Ka,a("div",Wa,[a("div",Ga,[a("div",Ja,[a("button",{onClick:o[0]||(o[0]=(...n)=>s.getProducts&&s.getProducts(...n)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"全部商品"),a("button",{onClick:o[1]||(o[1]=n=>s.filterCategory(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"健康餐盒"),a("button",{onClick:o[2]||(o[2]=n=>s.filterCategory(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"乳清蛋白"),a("button",{onClick:o[3]||(o[3]=n=>s.filterCategory(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"雞肉"),a("button",{onClick:o[4]||(o[4]=n=>s.filterCategory(n.target.innerText)),type:"button",class:"btn btn-outline-primary"},"海鮮")]),a("div",Qa,[Ya,a("button",{onClick:o[5]||(o[5]=n=>s.filterCal(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 300"),a("button",{onClick:o[6]||(o[6]=n=>s.filterCal(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"301 ~ 600"),a("button",{onClick:o[7]||(o[7]=n=>s.filterCal(n.target.innerText)),type:"button",class:"btn btn-outline-primary"},[v("601"),Za])]),a("div",eo,[to,a("button",{onClick:o[8]||(o[8]=n=>s.filterProtein(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 10"),a("button",{onClick:o[9]||(o[9]=n=>s.filterProtein(n.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"10.1 ~ 20"),a("button",{onClick:o[10]||(o[10]=n=>s.filterProtein(n.target.innerText)),type:"button",class:"btn btn-outline-primary"},[v("20.1"),ao])])]),a("div",oo,[a("div",no,[(T(!0),x(V,null,A(p.products,n=>(T(),x("div",{key:n.id,class:"col-md-6 col-lg-4"},[a("div",so,[y(t,{to:`/product/${n.id}`,class:"nav-link text-primary-light overlay-link"},{default:R(()=>[a("img",{src:n.imageUrl,class:"card-img-top object-cover",height:"200",alt:"產品圖片"},null,8,io)]),_:2},1032,["to"]),a("div",ro,[a("h5",lo,h(n.title),1),a("p",co,[a("span",uo,"原價 $"+h(n.origin_price),1),po,v("現在只要 $"+h(n.price),1)]),a("p",null,"熱量："+h(n.calorie)+" 大卡",1),a("p",null,"蛋白質："+h(n.protein)+" 克",1),a("button",{type:"button",class:"btn btn-outline-primary",onClick:_=>{r.addToCart(n.id,r.qty),s.showToast()}},[fo,v(" 加入購物車 ")],8,mo)])])]))),128))])])])]),y(d,{ref:"showCartToast"},null,512),a("section",bo,[y(c,{pages:p.page,onChangePage:s.getProducts},null,8,["pages","onChangePage"])])])}const Lo=Ma(Ia,[["render",ho]]);export{Lo as default};
