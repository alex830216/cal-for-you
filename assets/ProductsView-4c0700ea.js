import{_ as C,b as f,a as x,r as c,o as m,c as u,d as t,f as i,F as T,j as k,e as b,w as v,t as l}from"./index-c154cf11.js";import{P}from"./PaginationComponent-08dc51e4.js";import{c as w}from"./cart-dd1cb09b.js";import{f as V}from"./favorites-f40d34ae.js";import{S as E}from"./ShowCartToast-80586303.js";import"./logo-77d6255c.js";const{VITE_URL:a,VITE_PATH:d}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"cal-for-you",BASE_URL:"/cal-for-you/",MODE:"production",DEV:!1,PROD:!0},S={data(){return{products:[],page:{}}},methods:{getProducts(s=1){this.$http(`${a}v2/api/${d}/products?page=${s}`).then(e=>{this.products=e.data.products,this.page=e.data.pagination})},filterCategory(s){this.$http(`${a}v2/api/${d}/products/all`).then(e=>{this.products=e.data.products.filter(n=>n.category===s)})},filterCal(s){this.$http(`${a}v2/api/${d}/products/all`).then(e=>{s==="0 ~ 300"?this.products=e.data.products.filter(n=>n.calorie>=0&&n.calorie<=300):s==="301 ~ 600"?this.products=e.data.products.filter(n=>n.calorie>=301&&n.calorie<=600):s==="601"&&(this.products=e.data.products.filter(n=>n.calorie>=601))})},filterProtein(s){this.$http(`${a}v2/api/${d}/products/all`).then(e=>{s==="0 ~ 10"?this.products=e.data.products.filter(n=>n.protein>=0&&n.protein<=10):s==="10.1 ~ 20"?this.products=e.data.products.filter(n=>n.protein>=10.1&&n.protein<=20):s==="20.1"&&(this.products=e.data.products.filter(n=>n.protein>=20.1))})},showToast(){this.$refs.showCartToast.showCartToast()},...f(w,["addToCart"]),...f(V,["add"])},components:{RouterLink:x,PaginationComponent:P,ShowCartToast:E},mounted(){this.getProducts()}},L={class:"container pt-6"},R=t("h2",{class:"fw-bold pb-4 text-center"},"商品列表",-1),$={class:"row d-flex flex-md-row flex-column"},A={class:"col-md-3"},B={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},D={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},I=t("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1 disabled"},"熱量 (Cal)",-1),U=t("i",{class:"bi bi-arrow-up"},null,-1),j={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},N=t("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1",disabled:""},"蛋白質 (g)",-1),F=t("i",{class:"bi bi-arrow-up"},null,-1),H={class:"col-md-9"},O={class:"row g-4"},q={class:"card"},M=["src"],z={class:"card-body text-center"},G={class:"card-title fw-bold"},J={class:"card-text"},K={class:"text-decoration-line-through"},Q=t("br",null,null,-1),W=["onClick"],X=t("i",{class:"bi bi-heart-fill"},null,-1),Y=["onClick"],Z=t("i",{class:"bi bi-cart-fill"},null,-1),tt={class:"container d-flex justify-content-center pt-5"};function et(s,e,n,ot,p,r){const h=c("RouterLink"),g=c("ShowCartToast"),_=c("PaginationComponent");return m(),u("div",null,[t("section",L,[R,t("div",$,[t("div",A,[t("div",B,[t("button",{onClick:e[0]||(e[0]=(...o)=>r.getProducts&&r.getProducts(...o)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"全部商品"),t("button",{onClick:e[1]||(e[1]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"健康餐盒"),t("button",{onClick:e[2]||(e[2]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"乳清蛋白"),t("button",{onClick:e[3]||(e[3]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"雞肉"),t("button",{onClick:e[4]||(e[4]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},"海鮮")]),t("div",D,[I,t("button",{onClick:e[5]||(e[5]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 300"),t("button",{onClick:e[6]||(e[6]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"301 ~ 600"),t("button",{onClick:e[7]||(e[7]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},[i("601"),U])]),t("div",j,[N,t("button",{onClick:e[8]||(e[8]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 10"),t("button",{onClick:e[9]||(e[9]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"10.1 ~ 20"),t("button",{onClick:e[10]||(e[10]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},[i("20.1"),F])])]),t("div",H,[t("div",O,[(m(!0),u(T,null,k(p.products,o=>(m(),u("div",{key:o.id,class:"col-md-6 col-lg-4"},[t("div",q,[b(h,{to:`/product/${o.id}`,class:"nav-link text-primary-light overlay-link"},{default:v(()=>[t("img",{src:o.imageUrl,class:"card-img-top object-cover",height:"200",alt:"產品圖片"},null,8,M)]),_:2},1032,["to"]),t("div",z,[t("h5",G,l(o.title),1),t("p",J,[t("span",K,"原價 $"+l(o.origin_price),1),Q,i("現在只要 $"+l(o.price),1)]),t("p",null,"熱量："+l(o.calorie)+" 大卡",1),t("p",null,"蛋白質："+l(o.protein)+" 克",1),t("button",{type:"button",class:"btn btn-outline-primary mb-0 mb-md-2 mb-xxl-0 me-2 me-md-2",onClick:y=>s.add(o)},[X,i(" 加入收藏")],8,W),t("button",{type:"button",class:"btn btn-primary",onClick:y=>{s.addToCart(o.id,s.qty),r.showToast()}},[Z,i(" 加入購物車 ")],8,Y)])])]))),128))])])])]),b(g,{ref:"showCartToast"},null,512),t("section",tt,[b(_,{pages:p.page,onChangePage:r.getProducts},null,8,["pages","onChangePage"])])])}const dt=C(S,[["render",et]]);export{dt as default};
