import{_,b as y,a as C,r as c,o as u,c as m,d as t,f as a,F as x,j as T,e as p,w as k,t as i}from"./index-a97a57c8.js";import{P as v}from"./PaginationComponent-6936be81.js";import{c as P}from"./cart-b3410f03.js";import{S as w}from"./ShowCartToast-17a78fa6.js";import"./logo-77d6255c.js";const{VITE_URL:l,VITE_PATH:d}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"cal-for-you",BASE_URL:"/cal-for-you/",MODE:"production",DEV:!1,PROD:!0},V={data(){return{products:[],page:{}}},methods:{getProducts(s=1){this.$http(`${l}v2/api/${d}/products?page=${s}`).then(e=>{this.products=e.data.products,this.page=e.data.pagination})},filterCategory(s){this.$http(`${l}v2/api/${d}/products/all`).then(e=>{this.products=e.data.products.filter(n=>n.category===s)})},filterCal(s){this.$http(`${l}v2/api/${d}/products/all`).then(e=>{s==="0 ~ 300"?this.products=e.data.products.filter(n=>n.calorie>=0&&n.calorie<=300):s==="301 ~ 600"?this.products=e.data.products.filter(n=>n.calorie>=301&&n.calorie<=600):s==="601"&&(this.products=e.data.products.filter(n=>n.calorie>=601))})},filterProtein(s){this.$http(`${l}v2/api/${d}/products/all`).then(e=>{s==="0 ~ 10"?this.products=e.data.products.filter(n=>n.protein>=0&&n.protein<=10):s==="10.1 ~ 20"?this.products=e.data.products.filter(n=>n.protein>=10.1&&n.protein<=20):s==="20.1"&&(this.products=e.data.products.filter(n=>n.protein>=20.1))})},showToast(){this.$refs.showCartToast.showCartToast()},...y(P,["addToCart"])},components:{RouterLink:C,PaginationComponent:v,ShowCartToast:w},mounted(){this.getProducts()}},E={class:"container pt-6"},L=t("h2",{class:"fw-bold pb-4 text-center"},"商品列表",-1),R={class:"row d-flex flex-md-row flex-column"},S={class:"col-md-3"},$={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},A={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},B=t("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1 disabled"},"熱量 (Cal)",-1),D=t("i",{class:"bi bi-arrow-up"},null,-1),I={class:"pb-3 pb-md-5 d-md-flex flex-md-column"},U=t("button",{type:"button",class:"btn btn-primary me-1 me-md-0 mb-md-1",disabled:""},"蛋白質 (g)",-1),j=t("i",{class:"bi bi-arrow-up"},null,-1),N={class:"col-md-9"},F={class:"row g-4"},H={class:"card"},O=["src"],q={class:"card-body text-center"},M={class:"card-title fw-bold"},z={class:"card-text"},G={class:"text-decoration-line-through"},J=t("br",null,null,-1),K=["onClick"],Q=t("i",{class:"bi bi-cart-fill"},null,-1),W={class:"container d-flex justify-content-center pt-5"};function X(s,e,n,Y,b,r){const f=c("RouterLink"),g=c("ShowCartToast"),h=c("PaginationComponent");return u(),m("div",null,[t("section",E,[L,t("div",R,[t("div",S,[t("div",$,[t("button",{onClick:e[0]||(e[0]=(...o)=>r.getProducts&&r.getProducts(...o)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"全部商品"),t("button",{onClick:e[1]||(e[1]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"健康餐盒"),t("button",{onClick:e[2]||(e[2]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"乳清蛋白"),t("button",{onClick:e[3]||(e[3]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"雞肉"),t("button",{onClick:e[4]||(e[4]=o=>r.filterCategory(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},"海鮮")]),t("div",A,[B,t("button",{onClick:e[5]||(e[5]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 300"),t("button",{onClick:e[6]||(e[6]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"301 ~ 600"),t("button",{onClick:e[7]||(e[7]=o=>r.filterCal(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},[a("601"),D])]),t("div",I,[U,t("button",{onClick:e[8]||(e[8]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"0 ~ 10"),t("button",{onClick:e[9]||(e[9]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary me-1 me-md-0 mb-md-1"},"10.1 ~ 20"),t("button",{onClick:e[10]||(e[10]=o=>r.filterProtein(o.target.innerText)),type:"button",class:"btn btn-outline-primary"},[a("20.1"),j])])]),t("div",N,[t("div",F,[(u(!0),m(x,null,T(b.products,o=>(u(),m("div",{key:o.id,class:"col-md-6 col-lg-4"},[t("div",H,[p(f,{to:`/product/${o.id}`,class:"nav-link text-primary-light overlay-link"},{default:k(()=>[t("img",{src:o.imageUrl,class:"card-img-top object-cover",height:"200",alt:"產品圖片"},null,8,O)]),_:2},1032,["to"]),t("div",q,[t("h5",M,i(o.title),1),t("p",z,[t("span",G,"原價 $"+i(o.origin_price),1),J,a("現在只要 $"+i(o.price),1)]),t("p",null,"熱量："+i(o.calorie)+" 大卡",1),t("p",null,"蛋白質："+i(o.protein)+" 克",1),t("button",{type:"button",class:"btn btn-primary",onClick:Z=>{s.addToCart(o.id,s.qty),r.showToast()}},[Q,a(" 加入購物車 ")],8,K)])])]))),128))])])])]),p(g,{ref:"showCartToast"},null,512),t("section",W,[p(h,{pages:b.page,onChangePage:r.getProducts},null,8,["pages","onChangePage"])])])}const rt=_(V,[["render",X]]);export{rt as default};
