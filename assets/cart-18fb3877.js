import{i as r,j as s}from"./index-a9609852.js";const{VITE_URL:e,VITE_PATH:c}={VITE_URL:"https://vue3-course-api.hexschool.io/",VITE_PATH:"cal-for-you",BASE_URL:"/cal-for-you/",MODE:"production",DEV:!1,PROD:!0},d=r("cart",{state:()=>({carts:[],total:0,final_total:0,couponCode:"",couponIsUsed:!1,loadingItem:""}),actions:{getCart(){s.get(`${e}v2/api/${c}/cart`).then(t=>{this.carts=t.data.data.carts,this.total=t.data.data.total,this.couponIsUsed=JSON.parse(localStorage.getItem("coupon")),this.final_total=t.data.data.final_total}).catch(t=>{alert(t.response.data.message)})},addToCart(t,o=1,a){const n={data:{product_id:t,qty:o}};this.loadingItem=t,s.post(`${e}v2/api/${c}/cart`,n).then(()=>{this.getCart(),this.loadingItem="",a()}).catch(i=>{alert(i.response.data.message)})},useCoupon(t){this.couponCode=t;const o={data:{code:this.couponCode}};s.post(`${e}v2/api/${c}/coupon`,o).then(a=>{this.couponIsUsed=!0,localStorage.setItem("coupon",JSON.stringify(this.couponIsUsed)),this.final_total=a.data.final_total,this.getCart()}).catch(a=>{alert(a.response.data.message)})}}});export{d as c};
